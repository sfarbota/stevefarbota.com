function calculateTotalTagCount(){var e=[stackOverflowTagCount,gitHubTagCount,jsFiddleTagCount],t=0;$.each(e,function(){t+=this}),totalTagCount=t}function getJSFiddleTags(){$.getJSON("http://jsfiddle.net/api/user/"+jsFiddleUserId+"/demo/list.json?sort=date&order=desc&limit="+jsFiddleTagCount+"&callback=?",function(e){jsFiddleTagCount=e.list.length,calculateTotalTagCount();var t=[1,jsFiddleTagCount],a=jsFiddleTagCount;$.each(e.list,function(e,n){getBallTagImage(t,a,n.title,n.description,n.url,Source.JSFIDDLE),a--})})}function getStackOverflowTags(e){e=e||1,stackOverflowMaxTagAgeInMonths>=e?$.getJSON("https://api.stackexchange.com/2.2/users/"+stackOverflowUserId+"/tags?site=stackoverflow&sort=popular&order=desc&fromdate="+Math.round((new Date).setDate((new Date).getDate()-30*e)/1e3)+"&pagesize="+stackOverflowTagCount+"&page=1",function(t){if(0===t.items.length)getStackOverflowTags(e+1);else{stackOverflowTagCount=t.items.length,calculateTotalTagCount();var a=[],n=[];$.each(t.items,function(e,t){a.push(t.name),n.push(t.count)});var r=[];$.getJSON("https://api.stackexchange.com/2.2/tags/"+a.join(";")+"/wikis?site=stackoverflow",function(e){$.each(e.items,function(e,t){r[t.tag_name]=t.excerpt});var a=getMinAndMaxValues(n);$.each(t.items,function(e,t){getBallTagImage(a,t.count,t.name.replace(/\-/g," "),r[t.name],"http://stackoverflow.com/search?q=user:"+stackOverflowUserId+"+["+t.name+"]",Source.STACK_OVERFLOW)})})}}):(stackOverflowTagCount=0,calculateTotalTagCount())}function getGitHubTags(e){e=e||1,gitHubMaxTagAgeInMonths>=e?$.getJSON("https://api.github.com/users/"+gitHubUserId+"/repos?type=all&sort=updated&direction=desc",function(t){0===t.length?getGitHubTags(e+1):(t.length<gitHubTagCount&&(gitHubTagCount=t.length,calculateTotalTagCount()),$.each(t,function(t,a){if(gitHubTagCount>t){gitHubTagDescriptions[a.name]=a.description,gitHubTagLinks[a.name]=a.html_url;var n=new Date;n.setDate((new Date).getDate()-30*e),$.getJSON("https://api.github.com/repos/"+gitHubUserId+"/"+a.name+"/commits?since="+n.toISOString(),function(e){if(gitHubTagMultipliers.push(e.length),t===gitHubTagCount-1){var a=getMinAndMaxValues(gitHubTagMultipliers);$.each(gitHubTagDescriptions,function(e,t){getBallTagImage(a,gitHubTagMultipliers[e],e.replace(/\-/g," "),gitHubTagDescriptions[e],gitHubTagLinks[e],Source.GITHUB)})}})}}))}):(gitHubTagCount=0,calculateTotalTagCount())}function getMinAndMaxValues(e){var t=Number.MAX_VALUE,a=Number.MIN_VALUE;return $.each(e,function(e,n){t>n&&(t=n),n>a&&(a=n)}),[t,a]}function getBallTagImage(e,t,a,n,r,i,o){o=o||0;var l="/images/current-areas-of-focus/tags/"+a.toLowerCase().replace(/[^a-zA-Z\d]+/g,"-")+"."+imageFileExtensions[o];$.get(l).done(function(){var o=new Image(100,100);o.src=l,o.onload=function(){for(var u=(new ColorThief).getPalette(o,5,10),s=null,c=0;null===s&&c<u.length;){var g=u[c];Math.abs(g[0]-g[1])<minBallBackgroundRGBDifference&&Math.abs(g[0]-g[2])<minBallBackgroundRGBDifference&&Math.abs(g[1]-g[2])<minBallBackgroundRGBDifference||(s=g),c++}s=null===s?randomColor({hue:"random",luminosity:"bright",count:1}):"rgb("+s.join(",")+")",getBallSourceImage(e,t,s,a,n,r,i,l)}}).fail(function(){o<imageFileExtensions.length-1?getBallTagImage(e,t,a,n,r,i,o+1):getBallSourceImage(e,t,randomColor({hue:"random",luminosity:"bright",count:1}),a,n,r,i,null)})}function getBallSourceImage(e,t,a,n,r,i,o,l,u){u=u||0;var s="/images/current-areas-of-focus/sources/"+o.toLowerCase().replace(/[^a-zA-Z\d]+/g,"-")+"."+imageFileExtensions[u];$.get(s).done(function(){pushBall(e,t,a,n,r,i,o,l,s),checkIfAllBallsHaveBeenPushed()}).fail(function(){u<imageFileExtensions.length-1?getBallSourceImage(e,t,a,n,r,i,o,l,u+1):(pushBall(e,t,a,n,r,i,o,l,null),checkIfAllBallsHaveBeenPushed())})}function pushBall(e,t,a,n,r,i,o,l,u){var s=e[0],c=e[1],g=c-s,p=1,d=s===c?c>p?maxBallR:minBallR:ballRRange*(t-s)/g+minBallR,f=ballPopupBackgroundDefaultHeight,h=containerR*(Math.random()+.5),b=containerR*(Math.random()+.5),m=(Math.random()<.5?-1:1)*speed,v=(Math.random()<.5?-1:1)*speed;balls.push({x:h,y:b,previousX:-h,previousY:-b,originalX:h,originalY:b,dx:m,dy:v,r:d,popupBackgroundHeight:f,color:a,title:n,description:r,link:i,source:o,tagImage:l,sourceImage:u})}function checkIfAllBallsHaveBeenPushed(){balls.length===totalTagCount&&(initDrawing(),moveBalls())}function initDrawing(){svg.style.width=2*containerR+"px",svg.style.height=2*containerR+"px",svg.style.font=baseTextSize+"px Arial",svg.style.overflow="visible";var e=document.createElementNS(svgNamespace,"circle");e.id="ball-"+c+"-background",e.setAttribute("cx",containerR),e.setAttribute("cy",containerR),e.setAttribute("r",containerR),e.setAttribute("fill","#eee"),svg.appendChild(e);var t=document.createElementNS(svgNamespace,"defs");svg.appendChild(t);var a=document.createElementNS(svgNamespace,"filter");a.setAttribute("id","dropshadow"),a.setAttribute("height","130%"),t.appendChild(a);var n=document.createElementNS(svgNamespace,"feGaussianBlur");n.setAttribute("in","SourceAlpha"),n.setAttribute("stdDeviation","3"),a.appendChild(n);var r=document.createElementNS(svgNamespace,"feOffset");r.setAttribute("dx","1"),r.setAttribute("dy","2"),r.setAttribute("result","offsetblur"),a.appendChild(r);var i=document.createElementNS(svgNamespace,"feComponentTransfer");a.appendChild(i);var o=document.createElementNS(svgNamespace,"feFuncA");o.setAttribute("type","linear"),o.setAttribute("slope","0.2"),i.appendChild(o);var l=document.createElementNS(svgNamespace,"feMerge");a.appendChild(l);var u=document.createElementNS(svgNamespace,"feMergeNode");l.appendChild(u);var s=document.createElementNS(svgNamespace,"feMergeNode");s.setAttribute("in","SourceGraphic"),l.appendChild(s);for(var c=0;c<balls.length;c++){var g=balls[c],p=document.createElementNS(svgNamespace,"g");p.id="ball-"+c+"-group",p.style.cursor="pointer",p.setAttribute("x",0),p.setAttribute("y",0),svg.appendChild(p);var d=document.createElementNS(svgNamespace,"circle");if(d.id="ball-"+c+"-background",d.setAttribute("cx",g.x),d.setAttribute("cy",g.y),d.setAttribute("r",g.r),d.setAttribute("fill",g.color),d.setAttribute("fill-opacity",ballOpacity),p.appendChild(d),null!==g.tagImage){var f=document.createElementNS(svgNamespace,"image");f.id="ball-"+c+"-tag-image",f.setAttributeNS(xlinkNamespace,"href",g.tagImage),f.setAttribute("height",2*g.r*ballTagImagePercentageOfBallR),f.setAttribute("width",2*g.r*ballTagImagePercentageOfBallR),f.setAttribute("x",g.x-g.r*ballTagImagePercentageOfBallR),f.setAttribute("y",g.y-g.r*ballTagImagePercentageOfBallR),p.appendChild(f)}else{var h=Math.sqrt(Math.pow(2*g.r,2)/2),b=createMultiLineSVGTextElement(g.title.toUpperCase(),p,h,!0,g.x,g.y,ballTitleTextSizeMultiplier,XTextAlignment.CENTER,YTextAlignment.MIDDLE);b.id="ball-"+c+"-text",b.setAttribute("fill","#000")}var m=document.createElementNS(svgNamespace,"g");m.id="ball-"+c+"-popup-group",m.style.visibility="hidden",m.style.filter="url(#dropshadow)",p.appendChild(m);var v=g.x+ballPopupDistanceX,x=g.y+ballPopupDistanceY,T=document.createElementNS(svgNamespace,"rect");T.id="ball-"+c+"-popup-background",T.setAttribute("x",v),T.setAttribute("y",x),T.setAttribute("width",ballPopupBackgroundWidth),T.setAttribute("height",g.popupBackgroundHeight),T.setAttribute("fill","#fff"),m.appendChild(T);var C=document.createElementNS(svgNamespace,"polygon");C.id="ball-"+c+"-popup-tail",C.setAttribute("points",v+1+","+x+" "+(v-ballPopupDistanceX)+","+x+" "+(v+1)+","+(x+ballPopupDistanceX+1)),C.setAttribute("fill","#fff"),m.appendChild(C);var A=ballPopupOuterPadding;if(null!==g.sourceImage){var R=document.createElementNS(svgNamespace,"image");R.id="ball-"+c+"-popup-source-image",R.setAttributeNS(xlinkNamespace,"href",g.sourceImage),R.setAttribute("height",baseTextSize*ballPopupTitleTextSizeMultiplier),R.setAttribute("width",baseTextSize*ballPopupTitleTextSizeMultiplier),R.setAttribute("x",parseFloat(T.getAttribute("x"))+ballPopupOuterPadding),R.setAttribute("y",parseFloat(T.getAttribute("y"))+ballPopupOuterPadding),m.appendChild(R),A=ballPopupOuterPadding+R.getBoundingClientRect().width+ballPopupInnerPadding}var P=createMultiLineSVGTextElement(g.title,m,ballPopupBackgroundWidth-A-ballPopupOuterPadding,!1,parseFloat(T.getAttribute("x"))+A,parseFloat(T.getAttribute("y"))+ballPopupOuterPadding,ballPopupTitleTextSizeMultiplier,XTextAlignment.LEFT,YTextAlignment.TOP);P.id="ball-"+c+"-popup-title",P.setAttribute("fill","#000");var y=createMultiLineSVGTextElement(g.description,m,ballPopupBackgroundWidth-ballPopupOuterPadding-ballPopupOuterPadding,!1,parseFloat(T.getAttribute("x"))+ballPopupOuterPadding,parseFloat(T.getAttribute("y"))+ballPopupOuterPadding+P.getBoundingClientRect().height+ballPopupInnerPadding,ballPopupDescriptionTextSizeMultiplier,XTextAlignment.LEFT,YTextAlignment.TOP);y.id="ball-"+c+"-popup-description",y.setAttribute("fill","#000");var B=document.createElementNS(svgNamespace,"a");B.setAttributeNS(xlinkNamespace,"xlink:href",g.link),B.setAttributeNS(xlinkNamespace,"xlink:show","new"),m.appendChild(B);var S=document.createElementNS(svgNamespace,"text");S.id="ball-"+c+"-popup-link-text",S.setAttribute("x",parseFloat(T.getAttribute("x"))+ballPopupOuterPadding),S.setAttribute("y",parseFloat(y.getAttribute("y"))+y.getBoundingClientRect().height+ballPopupInnerPadding),S.setAttribute("text-decoration","underline"),S.setAttribute("fill","#008cba"),S.textContent="View at source",B.appendChild(S);var E=document.createElementNS(svgNamespace,"image");E.id="ball-"+c+"-popup-link-image",E.setAttributeNS(xlinkNamespace,"href","/images/icons/external-link.svg"),E.setAttribute("height",baseTextSize),E.setAttribute("width",baseTextSize),E.setAttribute("x",parseFloat(S.getAttribute("x"))+S.getBoundingClientRect().width+ballPopupInnerPadding),E.setAttribute("y",parseFloat(S.getAttribute("y"))-.8*baseTextSize),B.appendChild(E),g.popupBackgroundHeight=ballPopupOuterPadding+P.getBoundingClientRect().height+ballPopupInnerPadding+y.getBoundingClientRect().height+ballPopupInnerPadding+B.getBoundingClientRect().height+ballPopupOuterPadding,T.setAttribute("height",g.popupBackgroundHeight),moveBallPopup(c)}}function createMultiLineSVGTextElement(e,t,a,n,r,i,o,l,u){var s=baseTextSize*o,c=baseTextLineSpacing*o,g=document.createElementNS(svgNamespace,"text");t.appendChild(g),g.setAttribute("x",r),g.setAttribute("y",i),g.style.font=s+"px Arial";var p=e.split(" "),d=document.createElementNS(svgNamespace,"tspan");d.setAttribute("x",r),d.setAttribute("dy",0),g.appendChild(d),d.textContent=p[0];for(var f=1;f<p.length;f++)if(d.textContent+=" "+p[f],d.getComputedTextLength()>a){var h=d.textContent;d.textContent=h.substring(0,h.lastIndexOf(" ")),alignElementText(d,s,c,l),d=document.createElementNS(svgNamespace,"tspan"),d.setAttribute("x",r),d.setAttribute("dy",c+"px"),g.appendChild(d),d.textContent=p[f]}alignElementText(d,s,c,l),alignElementText(g,s,c,l,u);var b=g.getBoundingClientRect().width;return b>a||n?(t.removeChild(g),createMultiLineSVGTextElement(e,t,a,!1,r,i,o*(a/b),l,u)):g}function moveBalls(){requestAnimationFrame(function(){for(var e=0;e<balls.length;e++){moveBallPopup(e);var t=$("#ball-"+e+"-group")[0],a=$("#ball-"+e+"-popup-group")[0];$("#ball-"+e+"-group").filter(function(){return $(this).is(":hover")}).length?(t.parentNode.appendChild(t),a.style.visibility="visible"):(a.style.visibility="hidden",moveBall(e))}moveBalls()})}function alignElementText(e,t,a,n,r){"undefined"!=typeof n&&e.setAttribute("x",parseFloat(e.getAttribute("x"))-e.getComputedTextLength()*n),"undefined"!=typeof r&&e.setAttribute("y",parseFloat(e.getAttribute("y"))-((e.childNodes.length-1)*a+t)*r+t)}function moveBallPopup(e){var t=balls[e];if(t.x>containerR&&t.previousX<=containerR||t.x<=containerR&&t.previousX>containerR||t.y>containerR&&t.previousY<=containerR||t.y<=containerR&&t.previousY>containerR){var a=0,n=0,r=0,i=0,o=1,l=1;t.x>containerR&&(a=-(2*ballPopupDistanceX+ballPopupBackgroundWidth),r=-(2*(t.originalX+ballPopupDistanceX-1)+ballPopupBackgroundWidth),o=-1),t.y>containerR&&(n=-(2*ballPopupDistanceY+t.popupBackgroundHeight),i=-(2*t.originalY+t.popupBackgroundHeight),l=-1),$("#ball-"+e+"-popup-group")[0].setAttribute("transform","translate("+a+", "+n+")"),$("#ball-"+e+"-popup-tail")[0].setAttribute("transform","scale("+o+", "+l+") translate("+r+", "+i+")")}}function moveBall(e){var t=balls[e],a=t.x-containerR,n=t.y-containerR,r=Math.sqrt(a*a+n*n);if(r>=containerR-t.r){var i=r,o=a/i,l=n/i,u=-l,s=o,c=-(o*t.dx+l*t.dy),g=u*t.dx+s*t.dy;t.dx=c*o+g*u,t.dy=c*l+g*s}t.previousX=t.x,t.previousY=t.y,t.x+=t.dx,t.y+=t.dy,$("#ball-"+e+"-group")[0].setAttribute("transform","translate("+(t.x-t.originalX)+", "+(t.y-t.originalY)+")")}var CanvasImage=function(e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=e.width,this.height=this.canvas.height=e.height,this.context.drawImage(e,0,0,this.width,this.height)};CanvasImage.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},CanvasImage.prototype.update=function(e){this.context.putImageData(e,0,0)},CanvasImage.prototype.getPixelCount=function(){return this.width*this.height},CanvasImage.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},CanvasImage.prototype.removeCanvas=function(){this.canvas.parentNode.removeChild(this.canvas)};var ColorThief=function(){};if(ColorThief.prototype.getColor=function(e,t){var a=this.getPalette(e,5,t),n=a[0];return n},ColorThief.prototype.getPalette=function(e,t,a){"undefined"==typeof t&&(t=10),("undefined"==typeof a||1>a)&&(a=10);for(var n,r,i,o,l,u=new CanvasImage(e),s=u.getImageData(),c=s.data,g=u.getPixelCount(),p=[],d=0;g>d;d+=a)n=4*d,r=c[n+0],i=c[n+1],o=c[n+2],l=c[n+3],l>=125&&(r>250&&i>250&&o>250||p.push([r,i,o]));var f=MMCQ.quantize(p,t),h=f?f.palette():null;return u.removeCanvas(),h},!pv)var pv={map:function(e,t){var a={};return t?e.map(function(e,n){return a.index=n,t.call(a,e)}):e.slice()},naturalOrder:function(e,t){return t>e?-1:e>t?1:0},sum:function(e,t){var a={};return e.reduce(t?function(e,n,r){return a.index=r,e+t.call(a,n)}:function(e,t){return e+t},0)},max:function(e,t){return Math.max.apply(null,t?pv.map(e,t):e)}};var MMCQ=function(){function e(e,t,a){return(e<<2*u)+(t<<u)+a}function t(e){function t(){a.sort(e),n=!0}var a=[],n=!1;return{push:function(e){a.push(e),n=!1},peek:function(e){return n||t(),void 0===e&&(e=a.length-1),a[e]},pop:function(){return n||t(),a.pop()},size:function(){return a.length},map:function(e){return a.map(e)},debug:function(){return n||t(),a}}}function a(e,t,a,n,r,i,o){var l=this;l.r1=e,l.r2=t,l.g1=a,l.g2=n,l.b1=r,l.b2=i,l.histo=o}function n(){this.vboxes=new t(function(e,t){return pv.naturalOrder(e.vbox.count()*e.vbox.volume(),t.vbox.count()*t.vbox.volume())})}function r(t){var a,n,r,i,o=1<<3*u,l=new Array(o);return t.forEach(function(t){n=t[0]>>s,r=t[1]>>s,i=t[2]>>s,a=e(n,r,i),l[a]=(l[a]||0)+1}),l}function i(e,t){var n,r,i,o=1e6,l=0,u=1e6,c=0,g=1e6,p=0;return e.forEach(function(e){n=e[0]>>s,r=e[1]>>s,i=e[2]>>s,o>n?o=n:n>l&&(l=n),u>r?u=r:r>c&&(c=r),g>i?g=i:i>p&&(p=i)}),new a(o,l,u,c,g,p,t)}function o(t,a){function n(e){var t,n,r,i,o,l=e+"1",s=e+"2",c=0;for(u=a[l];u<=a[s];u++)if(f[u]>d/2){for(r=a.copy(),i=a.copy(),t=u-a[l],n=a[s]-u,o=n>=t?Math.min(a[s]-1,~~(u+n/2)):Math.max(a[l],~~(u-1-t/2));!f[o];)o++;for(c=h[o];!c&&f[o-1];)c=h[--o];return r[s]=o,i[l]=r[s]+1,[r,i]}}if(a.count()){var r=a.r2-a.r1+1,i=a.g2-a.g1+1,o=a.b2-a.b1+1,l=pv.max([r,i,o]);if(1==a.count())return[a.copy()];var u,s,c,g,p,d=0,f=[],h=[];if(l==r)for(u=a.r1;u<=a.r2;u++){for(g=0,s=a.g1;s<=a.g2;s++)for(c=a.b1;c<=a.b2;c++)p=e(u,s,c),g+=t[p]||0;d+=g,f[u]=d}else if(l==i)for(u=a.g1;u<=a.g2;u++){for(g=0,s=a.r1;s<=a.r2;s++)for(c=a.b1;c<=a.b2;c++)p=e(s,u,c),g+=t[p]||0;d+=g,f[u]=d}else for(u=a.b1;u<=a.b2;u++){for(g=0,s=a.r1;s<=a.r2;s++)for(c=a.g1;c<=a.g2;c++)p=e(s,c,u),g+=t[p]||0;d+=g,f[u]=d}return f.forEach(function(e,t){h[t]=d-e}),n(l==r?"r":l==i?"g":"b")}}function l(e,a){function l(e,t){for(var a,n=1,r=0;c>r;)if(a=e.pop(),a.count()){var i=o(u,a),l=i[0],s=i[1];if(!l)return;if(e.push(l),s&&(e.push(s),n++),n>=t)return;if(r++>c)return}else e.push(a),r++}if(!e.length||2>a||a>256)return!1;var u=r(e),s=0;u.forEach(function(){s++});var p=i(e,u),d=new t(function(e,t){return pv.naturalOrder(e.count(),t.count())});d.push(p),l(d,g*a);for(var f=new t(function(e,t){return pv.naturalOrder(e.count()*e.volume(),t.count()*t.volume())});d.size();)f.push(d.pop());l(f,a-f.size());for(var h=new n;f.size();)h.push(f.pop());return h}var u=5,s=8-u,c=1e3,g=.75;return a.prototype={volume:function(e){var t=this;return(!t._volume||e)&&(t._volume=(t.r2-t.r1+1)*(t.g2-t.g1+1)*(t.b2-t.b1+1)),t._volume},count:function(t){var a=this,n=a.histo;if(!a._count_set||t){var r,i,o,l=0;for(r=a.r1;r<=a.r2;r++)for(i=a.g1;i<=a.g2;i++)for(o=a.b1;o<=a.b2;o++)index=e(r,i,o),l+=n[index]||0;a._count=l,a._count_set=!0}return a._count},copy:function(){var e=this;return new a(e.r1,e.r2,e.g1,e.g2,e.b1,e.b2,e.histo)},avg:function(t){var a=this,n=a.histo;if(!a._avg||t){var r,i,o,l,s,c=0,g=1<<8-u,p=0,d=0,f=0;for(i=a.r1;i<=a.r2;i++)for(o=a.g1;o<=a.g2;o++)for(l=a.b1;l<=a.b2;l++)s=e(i,o,l),r=n[s]||0,c+=r,p+=r*(i+.5)*g,d+=r*(o+.5)*g,f+=r*(l+.5)*g;c?a._avg=[~~(p/c),~~(d/c),~~(f/c)]:a._avg=[~~(g*(a.r1+a.r2+1)/2),~~(g*(a.g1+a.g2+1)/2),~~(g*(a.b1+a.b2+1)/2)]}return a._avg},contains:function(e){var t=this,a=e[0]>>s;return gval=e[1]>>s,bval=e[2]>>s,a>=t.r1&&a<=t.r2&&gval>=t.g1&&gval<=t.g2&&bval>=t.b1&&bval<=t.b2}},n.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map(function(e){return e.color})},size:function(){return this.vboxes.size()},map:function(e){for(var t=this.vboxes,a=0;a<t.size();a++)if(t.peek(a).vbox.contains(e))return t.peek(a).color;return this.nearest(e)},nearest:function(e){for(var t,a,n,r=this.vboxes,i=0;i<r.size();i++)a=Math.sqrt(Math.pow(e[0]-r.peek(i).color[0],2)+Math.pow(e[1]-r.peek(i).color[1],2)+Math.pow(e[2]-r.peek(i).color[2],2)),(t>a||void 0===t)&&(t=a,n=r.peek(i).color);return n},forcebw:function(){var e=this.vboxes;e.sort(function(e,t){return pv.naturalOrder(pv.sum(e.color),pv.sum(t.color))});var t=e[0].color;t[0]<5&&t[1]<5&&t[2]<5&&(e[0].color=[0,0,0]);var a=e.length-1,n=e[a].color;n[0]>251&&n[1]>251&&n[2]>251&&(e[a].color=[255,255,255])}},{quantize:l}}();!function(e,t){if("function"==typeof define&&define.amd)define([],t);else if("object"==typeof exports){var a=t();"object"==typeof module&&module&&module.exports&&(exports=module.exports=a),exports.randomColor=a}else e.randomColor=t()}(this,function(){function e(e){var t=i(e.hue),a=u(t);return 0>a&&(a=360+a),a}function t(e,t){if("random"===t.luminosity)return u([0,100]);if("monochrome"===t.hue)return 0;var a=o(e),n=a[0],r=a[1];switch(t.luminosity){case"bright":n=55;break;case"dark":n=r-10;break;case"light":r=55}return u([n,r])}function a(e,t,a){var n=r(e,t),i=100;switch(a.luminosity){case"dark":i=n+20;break;case"light":n=(i+n)/2;break;case"random":n=0,i=100}return u([n,i])}function n(e,t){switch(t.format){case"hsvArray":return e;case"hslArray":return d(e);case"hsl":var a=d(e);return"hsl("+a[0]+", "+a[1]+"%, "+a[2]+"%)";case"hsla":var n=d(e);return"hsla("+n[0]+", "+n[1]+"%, "+n[2]+"%, "+Math.random()+")";case"rgbArray":return p(e);case"rgb":var r=p(e);return"rgb("+r.join(", ")+")";case"rgba":var i=p(e);return"rgba("+i.join(", ")+", "+Math.random()+")";default:return s(e)}}function r(e,t){for(var a=l(e).lowerBounds,n=0;n<a.length-1;n++){var r=a[n][0],i=a[n][1],o=a[n+1][0],u=a[n+1][1];if(t>=r&&o>=t){var s=(u-i)/(o-r),c=i-s*r;return s*t+c}}return 0}function i(e){if("number"==typeof parseInt(e)){var t=parseInt(e);if(360>t&&t>0)return[t,t]}if("string"==typeof e&&b[e]){var a=b[e];if(a.hueRange)return a.hueRange}return[0,360]}function o(e){return l(e).saturationRange}function l(e){e>=334&&360>=e&&(e-=360);for(var t in b){var a=b[t];if(a.hueRange&&e>=a.hueRange[0]&&e<=a.hueRange[1])return b[t]}return"Color not found"}function u(e){if(null===h)return Math.floor(e[0]+Math.random()*(e[1]+1-e[0]));var t=e[1]||1,a=e[0]||0;h=(9301*h+49297)%233280;var n=h/233280;return Math.floor(a+n*(t-a))}function s(e){function t(e){var t=e.toString(16);return 1==t.length?"0"+t:t}var a=p(e),n="#"+t(a[0])+t(a[1])+t(a[2]);return n}function c(e,t,a){var n=a[0][0],r=a[a.length-1][0],i=a[a.length-1][1],o=a[0][1];b[e]={hueRange:t,lowerBounds:a,saturationRange:[n,r],brightnessRange:[i,o]}}function g(){c("monochrome",null,[[0,0],[100,0]]),c("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),c("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),c("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),c("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),c("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),c("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),c("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function p(e){var t=e[0];0===t&&(t=1),360===t&&(t=359),t/=360;var a=e[1]/100,n=e[2]/100,r=Math.floor(6*t),i=6*t-r,o=n*(1-a),l=n*(1-i*a),u=n*(1-(1-i)*a),s=256,c=256,g=256;switch(r){case 0:s=n,c=u,g=o;break;case 1:s=l,c=n,g=o;break;case 2:s=o,c=n,g=u;break;case 3:s=o,c=l,g=n;break;case 4:s=u,c=o,g=n;break;case 5:s=n,c=o,g=l}var p=[Math.floor(255*s),Math.floor(255*c),Math.floor(255*g)];return p}function d(e){var t=e[0],a=e[1]/100,n=e[2]/100,r=(2-a)*n;return[t,Math.round(a*n/(1>r?r:2-r)*1e4)/100,r/2*100]}function f(e){for(var t=0,a=0;a!==e.length&&!(t>=Number.MAX_SAFE_INTEGER);a++)t+=e.charCodeAt(a);return t}var h=null,b={};g();var m=function(r){if(r=r||{},r.seed&&r.seed===parseInt(r.seed,10))h=r.seed;else if("string"==typeof r.seed)h=f(r.seed);else{if(void 0!==r.seed&&null!==r.seed)throw new TypeError("The seed value must be an integer");h=null}var i,o,l;if(null!==r.count&&void 0!==r.count){var u=r.count,s=[];for(r.count=null;u>s.length;)h&&r.seed&&(r.seed+=1),s.push(m(r));return r.count=u,s}return i=e(r),o=t(i,r),l=a(i,o,r),n([i,o,l],r)};return m});var XTextAlignment=Object.freeze({LEFT:0,CENTER:.5,RIGHT:1}),YTextAlignment=Object.freeze({TOP:0,MIDDLE:.5,BOTTOM:1}),Source=Object.freeze({GITHUB:"GitHub",JSFIDDLE:"JSFiddle",STACK_OVERFLOW:"Stack Overflow"}),imageFileExtensions=["svg","png"],stackOverflowUserId=170309,stackOverflowTagCount=4,stackOverflowMaxTagAgeInMonths=12,gitHubUserId="sfarbota",gitHubTagCount=1,gitHubMaxTagAgeInMonths=12,gitHubTagDescriptions={},gitHubTagLinks={},gitHubTagMultipliers=[],jsFiddleUserId="sfarbota",jsFiddleTagCount=3,totalTagCount=0,minContainerR=100,minBallPercentageOfContainerR=.15,maxBallPercentageOfContainerR=.35,speedPercentageOfContainerR=.015,minBallBackgroundRGBDifference=75,container=document.getElementById("current-areas-of-focus-container"),containerRect=container.getBoundingClientRect(),containerParentRect=container.parentElement.getBoundingClientRect(),mainFooterRect=$("#main-footer")[0].getBoundingClientRect(),containerHeight=mainFooterRect.top-containerParentRect.bottom,containerWidth=containerRect.right-containerRect.left;minContainerR=minContainerR>containerWidth?containerWidth:minContainerR;var containerR=(containerWidth>containerHeight?containerHeight:containerWidth)/2;containerR=minContainerR>containerR?minContainerR:containerR;var speed=speedPercentageOfContainerR*containerR,ballOpacity=.8,baseTextSize=containerR/20,baseTextLineSpacing=containerR/15,ballTitleTextSizeMultiplier=1,ballPopupTitleTextSizeMultiplier=2,ballPopupDescriptionTextSizeMultiplier=1,ballPopupBackgroundWidth=containerR,ballPopupBackgroundDefaultHeight=containerR/2,ballPopupOuterPadding=ballPopupBackgroundWidth/10,ballPopupInnerPadding=ballPopupBackgroundWidth/20,ballPopupDistancePercentX=.5,ballPopupDistancePercentY=0,minBallR=minBallPercentageOfContainerR*containerR,maxBallR=maxBallPercentageOfContainerR*containerR,ballRRange=maxBallR-minBallR,ballPopupDistanceX=ballPopupDistancePercentX*minBallR,ballPopupDistanceY=ballPopupDistancePercentY*minBallR,PERCENTAGE_OF_LARGEST_SQUARE_INSIDE_CIRCLE=.7,ballTagImagePercentageOfBallR=.9*PERCENTAGE_OF_LARGEST_SQUARE_INSIDE_CIRCLE,ballTagImagePercentageOfBallR=.9*PERCENTAGE_OF_LARGEST_SQUARE_INSIDE_CIRCLE,svgNamespace="http://www.w3.org/2000/svg",xlinkNamespace="http://www.w3.org/1999/xlink",svg=document.createElementNS(svgNamespace,"svg");svg.id="svg-wrapper",container.appendChild(svg);var balls=[];calculateTotalTagCount(),getStackOverflowTags(),getGitHubTags(),getJSFiddleTags();